var loop = fun (n) { 
  var c = ref 0;
  while (*c < n) c = *c + 1;
  // var tid = spawn loop(n-1); ;
  // detach(tid);
};

println("main thread starting");

var tid1 = spawn {
    println("thread 1 starting");
    loop(1);
    println("thread 1 ending");
};
// join(tid1);

println("main thread ending");